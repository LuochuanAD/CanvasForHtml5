<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta content="telephone=no" name="format-detection">
		<meta content="email=no" name="format-detection">
		<meta content="yes" name="apple-mobile-web-app-capable">
		<meta content="black" name="apple-mobile-web-app-status-bar-style">
		<title>航班小时分布图</title>
		<style type="text/css">
			.top {
				width: 98%;
				margin-left: 1%;
				height: 38rem;
				text-align: center;
				background: url(delayNumberBg.png) no-repeat center;
				background-size: contain;
			}
			
			.leftdiv {	
				width: 50%;		
				font-size: 40px;
				float: left;
			}
			
			.rightdiv {	
				width: 25%;
				font-size: 40px;			
				float: left;
				
			}
			
			.swiper-container {
				width: 100%;
				height: 100%;
				margin-bottom: 5rem;
			}
			
			.swiper-container-v {
				width: 100%;
				height: 700px;
			}
		</style>
		<link rel="stylesheet" href="swiper-3.4.2.min.css">
	</head>

	<body>
		<script src="swiper-3.4.2.min.js"></script>

		<div class="swiper-container swiper-container-h">
			<div class="swiper-wrapper">
				<div class="swiper-slide">
					<div class="top">
						<table width="100%" cellspacing="0px" style="padding-top: 3rem;padding-left: 2rem;">
							<tr>
								<td colspan="2" style="text-align: left;color: white;padding-bottom: 1rem;font-size: 40px;">进港航班小时分布图</td>
							</tr>
							<tr>
								<td width="30%" style="text-align: left;color: white;padding-bottom: 1rem;font-size: 30px;"><img src="real.png" alt="real" style="padding-right: 1rem;" />实际航班数</td>
								<td width="70%" style="text-align: left;color: white;padding-bottom: 1rem;font-size: 30px;"><img src="plan.png" alt="plan" style="padding-right: 1rem;" />计划航班数</td>
							</tr>
							<tr>
								<td colspan="2" style="text-align: right;color: white;font-size: 30px;border-top: 1px solid white;">63</td>
							</tr>
						</table>
						<canvas id="a_canvas" width="950" height="290"></canvas>
						<table width="97%" cellspacing="0px">
							<tr>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">00</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">02</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">04</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">06</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">08</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">10</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">12</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">14</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">16</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">18</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">20</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">22</td>

							</tr>
						</table>

					</div>
					<div class="swiper-container swiper-container-v" >
						<div class="swiper-wrapper">
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">00</div>
								<div class="rightdiv">实际进 7</div>
								<div class="rightdiv">计划进 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">01</div>
								<div class="rightdiv">实际进 3</div>
								<div class="rightdiv">计划进 2</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">02</div>
								<div class="rightdiv">实际进 5</div>
								<div class="rightdiv">计划进 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">03</div>
								<div class="rightdiv">实际进 5</div>
								<div class="rightdiv">计划进 12</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">04</div>
								<div class="rightdiv">实际进 14</div>
								<div class="rightdiv">计划进 8</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">05</div>
								<div class="rightdiv">实际进 3</div>
								<div class="rightdiv">计划进 3</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">06</div>
								<div class="rightdiv">实际进 27</div>
								<div class="rightdiv">计划进 27</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">07</div>
								<div class="rightdiv">实际进 7</div>
								<div class="rightdiv">计划进 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">08</div>
								<div class="rightdiv">实际进 7</div>
								<div class="rightdiv">计划进 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">09</div>
								<div class="rightdiv">实际进 7</div>
								<div class="rightdiv">计划进 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">10</div>
								<div class="rightdiv">实际进 7</div>
								<div class="rightdiv">计划进 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">11</div>
								<div class="rightdiv">实际进 7</div>
								<div class="rightdiv">计划进 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">12</div>
								<div class="rightdiv">实际进 7</div>
								<div class="rightdiv">计划进 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">13</div>
								<div class="rightdiv">实际进 7</div>
								<div class="rightdiv">计划进 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">14</div>
								<div class="rightdiv">实际进 7</div>
								<div class="rightdiv">计划进 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">15</div>
								<div class="rightdiv">实际进 7</div>
								<div class="rightdiv">计划进 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">16</div>
								<div class="rightdiv">实际进 7</div>
								<div class="rightdiv">计划进 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">17</div>
								<div class="rightdiv">实际进 7</div>
								<div class="rightdiv">计划进 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">18</div>
								<div class="rightdiv">实际进 7</div>
								<div class="rightdiv">计划进 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">19</div>
								<div class="rightdiv">实际进 7</div>
								<div class="rightdiv">计划进 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">20</div>
								<div class="rightdiv">实际进 7</div>
								<div class="rightdiv">计划进 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">21</div>
								<div class="rightdiv">实际进 7</div>
								<div class="rightdiv">计划进 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">22</div>
								<div class="rightdiv">实际进 7</div>
								<div class="rightdiv">计划进 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">23</div>
								<div class="rightdiv">实际进 7</div>
								<div class="rightdiv">计划进 4</div>
							</div>
						</div>
					</div>
				</div>
				<div class="swiper-slide">
						<div class="top">
						<table width="100%" cellspacing="0px" style="padding-top: 3rem;padding-left: 2rem;">
							<tr>
								<td colspan="2" style="text-align: left;color: white;padding-bottom: 1rem;font-size: 40px;">出港航班小时分布图</td>
							</tr>
							<tr>
								<td width="30%" style="text-align: left;color: white;padding-bottom: 1rem;font-size: 30px;"><img src="real.png" alt="real" style="padding-right: 1rem;" />实际航班数</td>
								<td width="70%" style="text-align: left;color: white;padding-bottom: 1rem;font-size: 30px;"><img src="plan.png" alt="plan" style="padding-right: 1rem;" />计划航班数</td>
							</tr>
							<tr>
								<td colspan="2" style="text-align: right;color: white;font-size: 30px;border-top: 1px solid white;">63</td>
							</tr>
						</table>
						<canvas id="b_canvas" width="950" height="290"></canvas>
						<table width="97%" cellspacing="0px">
							<tr>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">00</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">02</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">04</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">06</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">08</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">10</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">12</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">14</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">16</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">18</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">20</td>
								<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">22</td>

							</tr>
						</table>

					</div>
					<div class="swiper-container swiper-container-v" >
						<div class="swiper-wrapper">
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">00</div>
								<div class="rightdiv">实际出 7</div>
								<div class="rightdiv">计划出 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">01</div>
								<div class="rightdiv">实际出 3</div>
								<div class="rightdiv">计划出 2</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">02</div>
								<div class="rightdiv">实际出 5</div>
								<div class="rightdiv">计划出 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">03</div>
								<div class="rightdiv">实际出 5</div>
								<div class="rightdiv">计划出 12</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">04</div>
								<div class="rightdiv">实际出 14</div>
								<div class="rightdiv">计划出 8</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">05</div>
								<div class="rightdiv">实际出 3</div>
								<div class="rightdiv">计划出 3</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">06</div>
								<div class="rightdiv">实际出 27</div>
								<div class="rightdiv">计划出 27</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">07</div>
								<div class="rightdiv">实际出 7</div>
								<div class="rightdiv">计划出 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">08</div>
								<div class="rightdiv">实际出 7</div>
								<div class="rightdiv">计划出 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">09</div>
								<div class="rightdiv">实际出 7</div>
								<div class="rightdiv">计划出 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">10</div>
								<div class="rightdiv">实际出 7</div>
								<div class="rightdiv">计划出 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">11</div>
								<div class="rightdiv">实际出 7</div>
								<div class="rightdiv">计划出 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">12</div>
								<div class="rightdiv">实际出 7</div>
								<div class="rightdiv">计划出 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">13</div>
								<div class="rightdiv">实际出 7</div>
								<div class="rightdiv">计划出 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">14</div>
								<div class="rightdiv">实际出 7</div>
								<div class="rightdiv">计划出 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">15</div>
								<div class="rightdiv">实际出 7</div>
								<div class="rightdiv">计划出 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">16</div>
								<div class="rightdiv">实际出 7</div>
								<div class="rightdiv">计划出 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">17</div>
								<div class="rightdiv">实际出 7</div>
								<div class="rightdiv">计划出 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">18</div>
								<div class="rightdiv">实际出 7</div>
								<div class="rightdiv">计划出 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">19</div>
								<div class="rightdiv">实际进 7</div>
								<div class="rightdiv">计划进 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">20</div>
								<div class="rightdiv">实际出 7</div>
								<div class="rightdiv">计划出 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">21</div>
								<div class="rightdiv">实际出 7</div>
								<div class="rightdiv">计划出 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">22</div>
								<div class="rightdiv">实际出 7</div>
								<div class="rightdiv">计划出 4</div>
							</div>
							<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;">
								<div class="leftdiv">23</div>
								<div class="rightdiv">实际出 7</div>
								<div class="rightdiv">计划出 4</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="swiper-pagination swiper-pagination-h"></div>
		</div>

		<script type="text/javascript">
			var swiper = new Swiper('.swiper-container-v', {
				//      pagination: '.swiper-pagination',
				direction: 'vertical',

				slidesPerView: 'auto',

				spaceBetween: 0,
				mousewheelControl: true
			});
			var swiper1 = new Swiper('.swiper-container-h', {
				//      pagination: '.swiper-pagination',
				direction: 'horizontal',
				pagination: '.swiper-pagination-h',
				slidesPerView: 'auto',

				spaceBetween: 0,
				mousewheelControl: true
			});
		</script>

		<script type="text/javascript">
			var a_canvas;
			var a_context;
			
			var b_canvas;
			var b_context;

			window.onload = function() {
				a_canvas = document.getElementById('a_canvas');
				if(a_canvas && a_canvas.getContext) {
					a_context = a_canvas.getContext('2d');
				}
				b_canvas = document.getElementById('b_canvas');
				if(b_canvas && b_canvas.getContext) {
					b_context = b_canvas.getContext('2d');
				}
				var a_data = [7, 3, 5, 5, 14, 3, 27, 35, 26, 28, 27, 17, 20, 27, 19, 23, 26, 33, 22, 30, 25, 20, 17, 15];
				var a_data1 = [4, 2, 4, 12, 8, 3, 27, 35, 26, 28, 27, 27, 20, 25, 19, 22, 24, 28, 22, 29, 25, 20, 16, 15];
				drawChartWithAnimation(a_context,a_canvas,a_data1);

				lineChart(a_context,a_canvas,a_data);
				
				var b_data = [17, 3, 15, 5, 14, 3, 27, 15, 26, 28, 27, 17, 20, 7, 19, 23, 26, 13, 22, 30, 25, 20, 17, 15];
				var b_data1 = [14, 2, 14, 12, 8, 3, 27, 15, 26, 28, 27, 27, 20, 5, 19, 22, 24, 18, 22, 29, 25, 20, 16, 15];
				drawChartWithAnimation(b_context,b_canvas,b_data1);
				
				lineChart(b_context,b_canvas,b_data);
			}

			function lineChart(context,canvas,data) {
				

				var minDataValue = 100000000;
				for(var i = 0; i < data.length; i++) {
					var barVal = parseInt(data[i]);
					if(parseInt(barVal) < parseInt(minDataValue))
						minDataValue = barVal;
				}
				// 绘制背景
				var gradient = context.createLinearGradient(0, 0, 0, 300);

				context.fillStyle = gradient;

				context.fillRect(0, 0, canvas.width, canvas.height);

				// 描绘边框
				var grid_cols = data.length + 1;
				var grid_rows = 4;
				var cell_height = canvas.height / grid_rows;
				var cell_width = canvas.width / grid_cols;
				context.lineWidth = 1;
				context.strokeStyle = "#a0a0a0";

				var max_v = 63;

				for(var i = 0; i < data.length; i++) {
					var d = 0;
					if(data[i] < 0) {
						d = d - data[i];
					} else { d = data[i]; };
					if(d > max_v) { max_v = d };
				}
				max_v = max_v * 1.0;
				// 将数据换算为坐标
				var points = [];
				for(var i = 0; i < data.length; i++) {
					var v = data[i];
					var px = cell_width * 　(i + 1);
					var py = canvas.height - canvas.height * (v / max_v);
					points.push({ "x": px, "y": py });
				}

				context.beginPath();
				context.fillStyle = "white";
				context.font = "25px sans-serif";
				
				context.fillText("0", canvas.width * 0.97, canvas.height);

				// 绘制折现
				context.beginPath();
				context.moveTo(points[0].x, points[0].y);
				for(var i = 1; i < points.length; i++) {
					context.lineTo(points[i].x, points[i].y);
				}

				context.lineWidth = 4;
				context.strokeStyle = "white";
				context.stroke();

				// 结束边框描绘
				context.save();
				context.beginPath();

				context.setLineDash([6, 6]);
				context.moveTo(0, canvas.height - canvas.height * (data[19] / max_v));
				context.lineTo(canvas.width, canvas.height - canvas.height * (data[19] / max_v));

				context.lineWidth = 1;
				context.strokeStyle = "red";
				context.stroke();
				context.restore();

				//绘制坐标图形
				for(var i in points) {
					if(i < 19) {
						var p = points[i];

						context.beginPath();
						context.lineWidth = 4;
						context.radius = 4;
						context.strokeStyle = "white";
						context.fillStyle = "#009CEF";
						context.arc(p.x, p.y, (canvas.width / data.length - 20) / 2, 0, Math.PI * 2, false);

						context.stroke();
						context.fill();
						context.closePath();
					} else {

					}

				}

				context.beginPath();
				context.fillStyle = "red";
				context.font = "25px sans-serif";

				context.fillText(data[19], canvas.width - 50, canvas.height - canvas.height * (data[19] / max_v));
			}

			function drawChartWithAnimation(context,canvas,data1) {

				
				// 描绘边框
				var grid_cols = data1.length + 1;
				var grid_rows = 4;
				var cell_height = canvas.height / grid_rows;
				var cell_width = canvas.width / grid_cols;

				var max_v = 63;

				for(var i = 0; i < data1.length; i++) {
					var d = 0;
					if(data1[i] < 0) {
						d = d - data1[i];
					} else { d = data1[i]; };
					if(d > max_v) { max_v = d };
				}
				max_v = max_v * 1.0;
				// 将数据换算为坐标
				var points = [];
				for(var i = 0; i < data1.length; i++) {
					var v = data1[i];
					var px = cell_width * 　(i + 1);
					var py = canvas.height - canvas.height * (v / max_v);
					points.push({ "x": px, "y": py });
				}
				for(var i in points) {
					var p = points[i];
					height = canvas.height - p.y;
					width = canvas.width / data1.length - 20;
					if(i < 19) {
						drawRectangle(p.x - (canvas.width / data1.length - 20) / 2, p.y, width, height, context, true);
					} else {
						drawRectangle1(p.x - (canvas.width / data1.length - 20) / 2, p.y, width, height, context, true);
					}

				}

			}

			function drawRectangle(x, y, w, h, context,fill) {
				context.beginPath();
				context.rect(x, y, w, h);
				drawRoundRect(x, y, w, h, w / 2,context);
				context.closePath();
				context.stroke();
				if(fill) {
					var gradient = context.createLinearGradient(0, 0, 0, 300);
					gradient.addColorStop(0, '#40FEDD');
					gradient.addColorStop(1, '#40FEDD');
					context.fillStyle = gradient;
					context.strokeStyle = gradient;
					context.fill();
				}
			}

			function drawRectangle1(x, y, w, h, context,fill) {
				context.beginPath();

				context.rect(x, y, w, h);
				drawRoundRect(x, y, w, h, w / 2,context);
				context.closePath();
				context.stroke();
				if(fill) {
					var gradient = context.createLinearGradient(0, 0, 0, 300);
					gradient.addColorStop(0, '#BDBDBD');
					gradient.addColorStop(1, '#BDBDBD');
					context.fillStyle = gradient;
					context.strokeStyle = gradient;
					context.fill();
				}
			}

			function drawRoundRect(x, y, width, height, radius,context) {
				var value = height - width;
				if(value < 0) {
					radius = height / 2;
				}
				context.beginPath();
				context.arc(x + radius, y + radius, radius, Math.PI, Math.PI * 3 / 2);
				context.lineTo(width - radius + x, y);
				context.arc(width - radius + x, radius + y, radius, Math.PI * 3 / 2, Math.PI * 2);
				context.lineTo(width + x, height - radius + y);
				context.arc(width - radius + x, height - radius + y, radius, 0, Math.PI * 1 / 2);
				context.lineTo(radius + x, height + y);
				context.arc(radius + x, height - radius + y, radius, Math.PI * 1 / 2, Math.PI);
				context.closePath();
			}
		</script>
	</body>

</html>