<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta content="telephone=no" name="format-detection">
	<meta content="email=no" name="format-detection">
	<meta content="yes" name="apple-mobile-web-app-capable">
	<meta content="black" name="apple-mobile-web-app-status-bar-style">
		<title>航班小时分布图</title>
		<style type="text/css">
			.top{				
    				width: 98%;
    				margin-left: 1%;
    				height: 39rem; 
    				text-align: center;
    				background: url(delayNumberBg.png) no-repeat center;
    				background-size: contain;
			}
			
			.white::before{
				background-color: white;
			}
			
			.tabText{
				position: relative;
				margin-top: 10px;
				padding-left: 2rem;
			}
			.tabText::before{
				display: block;
				position: absolute;
				top: 0.5rem;
				left: 0rem;
				width: 1rem;
				height: 1rem;
				content: '';
				border-radius: 0.5rem;
			}
			.tabCont td{
				text-align: left;
				font-size: 30px;
				color: white;
			}
			.swiper-container {
    				width: 100%;
    				height: 700px;
				} 
			.leftdiv{
				float: left;
				padding-left: 2rem;
				padding-top: 1rem;
				clear: both;
				font-size: 40px;
			}
			.rightdiv{
				float: right;
				padding-top: 1rem;
				padding-right: 2rem;
				font-size: 40px;
			}
		</style>
		<link rel="stylesheet" href="swiper-3.4.2.min.css">
	</head>
	<body>
		
		<div class="top">
			<table width="100%" cellspacing="0px" style="padding-top: 5rem;padding-left: 2rem;">
				<tr>
					<td style="text-align: left;color: white;font-size: 30px;">航班小时分布图</td>
					<td rowspan="2" style="text-align: right;color: white;font-size: 50px;">23195</td>
				</tr>
				<tr class="tabCont">
					<td class="tabText white">航班数</td>
				</tr>
				<tr>
					<td colspan="2" style="text-align: right;color: white;border-top: 1px solid white;font-size: 30px;">3388</td>
				</tr>
			</table>
			
			<canvas id="a_canvas" width="950" height="300"></canvas>
			<table width="100%" cellspacing="0px" >
				
				<tr>
					<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">00</td>
					<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">02</td>
					<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">04</td>
					<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">06</td>
					<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">08</td>
					<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">10</td>
					<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">12</td>
					<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">14</td>
					<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">16</td>
					<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">18</td>
					<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">20</td>
					<td style="text-align: center;color: white;border-top: 1px solid white;font-size: 30px;">22</td>
				</tr>
			</table>
		</div>
<!--<div style="width: 100%;height: 5rem;border-bottom: 1px solid gray;">
			<div style="float: left;clear: both;font-size: 40px;">00</div><div style="float: right;font-size: 40px;">501</div>
		</div>		-->
<script src="swiper-3.4.2.min.js"></script>
		
<div class="swiper-container">
    <div class="swiper-wrapper">
        <div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">00</div><div class="rightdiv">501</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">01</div><div class="rightdiv">501</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">02</div><div class="rightdiv">437</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">03</div><div class="rightdiv">437</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">04</div><div class="rightdiv">468</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">05</div><div class="rightdiv">2107</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">06</div><div class="rightdiv">2107</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">07</div><div class="rightdiv">2110</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">09</div><div class="rightdiv">1800</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">10</div><div class="rightdiv">1800</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">11</div><div class="rightdiv">1600</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">12</div><div class="rightdiv">1400</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">13</div><div class="rightdiv">1400</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">14</div><div class="rightdiv">1500</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">15</div><div class="rightdiv">1600</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">16</div><div class="rightdiv">1400</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">17</div><div class="rightdiv">1500</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">18</div><div class="rightdiv">1700</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">19</div><div class="rightdiv">1900</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">20</div><div class="rightdiv">1900</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">21</div><div class="rightdiv">1900</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">22</div><div class="rightdiv">1900</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">23</div><div class="rightdiv">1900</div></div>
		<div class="swiper-slide" style="width: 100%;height: 5rem;border-bottom: 1px solid gray;padding-bottom: 1rem;padding-top: 1rem;"><div class="leftdiv">24</div><div class="rightdiv">1900</div></div>
    </div>
  
</div>
	<script type="text/javascript">
			var swiper = new Swiper('.swiper-container', {
//      pagination: '.swiper-pagination',
        direction: 'vertical',
        
        slidesPerView: 'auto',
        
        spaceBetween: 0,
        mousewheelControl: true
    });       
		</script>	
		<script type="text/javascript">
			(function (){
 
        window.addEventListener("load", function(){
 
          var data = [501,501,437,437,468,2107,2107,2110,1800,1800,1600,1400,1400,1500,1600,1400,1500,1700,1900];
 
          // 获取上下文
          var a_canvas = document.getElementById('a_canvas');
          var context = a_canvas.getContext("2d");
 		  var minDataValue=100000000;
		  for (var i = 0; i<data.length; i++) {
                var barVal = parseInt(data[i]);
                if (parseInt(barVal) < parseInt(minDataValue))
                    minDataValue = barVal;
            }
 
          // 绘制背景
          var gradient = context.createLinearGradient(0,0,0,300);
 
 
         // gradient.addColorStop(0,"#e0e0e0");
          //gradient.addColorStop(1,"#ffffff");
 
 
          context.fillStyle = gradient;
 
          context.fillRect(0,0,a_canvas.width,a_canvas.height);
 
          
          // 描绘边框
          var grid_cols = data.length + 1;
          var grid_rows = 4;
          var cell_height = a_canvas.height / grid_rows;
          var cell_width = a_canvas.width / grid_cols;
          context.lineWidth = 4;
          context.strokeStyle = "#a0a0a0";
 
         
 
          var max_v =0;
          
          for(var i = 0; i<data.length; i++){
              var d=0;
              if(data[i]<0)
              {d=d-data[i];
                  }
                  else{d=data[i];};
            if (d > max_v) { max_v =d};
          }
          max_v = max_v * 1.1;
          // 将数据换算为坐标
          var points = [];
          for( var i=0; i < data.length; i++){
            var v= data[i];
            var px = cell_width *　(i +1);
            var py = a_canvas.height - a_canvas.height*(v / max_v);
            points.push({"x":px,"y":py});
          }
          // 绘制折现
          context.beginPath();
          context.moveTo(points[0].x, points[0].y);
          for(var i= 1; i< points.length; i++){
            context.lineTo(points[i].x,points[i].y);
          }
          
          context.lineWidth = 4;
          context.strokeStyle = "white";
          context.stroke();
 
 
    
          //绘制坐标图形
          for(var i in points){
            var p = points[i];
            context.beginPath();
            context.lineWidth = 4;
			context.radius = 4;
            context.arc(p.x,p.y,7,0,2*Math.PI);
            //实心圆
           /*
            context.fillStyle = "#000";*/
            //空心圆
            context.strokeStyle = "white";
            context.stroke();
            context.fillStyle="#009CEF";
            context.fill();
          }
           
          //添加文字
//        for(var i in points)
//        {  var p = points[i];
//          context.beginPath();
//          context.fillStyle="black";
//          context.fillText(data[i], p.x + 1, p.y - 15);
//             
//            }

   				context.save(); //save和restore可以保证样式属性只运用于该段canvas元素
                context.strokeStyle = "white"; //设置描边样式
                context.fillStyle="white";
				
              	context.font = "40px sans-serif"; //设置字体大小和字体
                
                //绘制字体，并且指定位置
                context.fillText("0", a_canvas.width*0.97, a_canvas.height*0.98);

              	context.stroke();//执行绘制
                
                context.restore();
        },false);
      })();
 	
		</script>
	</body>
</html>
